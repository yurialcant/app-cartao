<div class="container mt-4">
  <h2>System Alerts</h2>

  <div class="card mb-4">
    <div class="card-header">Create New Alert</div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-3">
          <select class="form-control" [(ngModel)]="newAlert.type">
            <option value="INFO">Info</option>
            <option value="WARNING">Warning</option>
            <option value="ERROR">Error</option>
          </select>
        </div>
        <div class="col-md-6">
          <input type="text" class="form-control" [(ngModel)]="newAlert.message" placeholder="Alert Message">
        </div>
        <div class="col-md-3">
          <button class="btn btn-primary" (click)="createAlert()">Create Alert</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="text-center">
    <div class="spinner-border" role="status"></div>
  </div>

  <div *ngIf="!loading">
    <div *ngFor="let alert of alerts" class="alert" [ngClass]="{
      'alert-info': alert.type === 'INFO',
      'alert-warning': alert.type === 'WARNING',
      'alert-danger': alert.type === 'ERROR'
    }">
      <div class="d-flex justify-content-between">
        <div>
          <strong>{{ alert.type }}:</strong> {{ alert.message }}
          <br>
          <small>Created: {{ alert.createdAt | date:'short' }}</small>
        </div>
        <button class="btn btn-sm btn-secondary" (click)="resolveAlert(alert.id)">Resolve</button>
      </div>
    </div>
  </div>
</div>
