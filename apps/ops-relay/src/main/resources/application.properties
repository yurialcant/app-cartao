spring.application.name=ops-relay

# Database Configuration (connects to benefits-core database for outbox table)
spring.r2dbc.url=r2dbc:postgresql://localhost:5432/benefits
spring.r2dbc.username=benefits
spring.r2dbc.password=benefits_password

# Connection Pool
spring.r2dbc.pool.enabled=true
spring.r2dbc.pool.initial-size=5
spring.r2dbc.pool.max-size=20
spring.r2dbc.pool.max-idle-time=30m

# AWS Configuration (LocalStack)
aws.region=us-east-1
aws.endpoint=http://localhost:4566
aws.eventbridge.bus=benefits-events
aws.sqs.queue=benefits-events-queue
aws.sqs.dlq=benefits-events-dlq

# Outbox Relay Configuration
ops-relay.polling-interval=5000
ops-relay.batch-size=10
ops-relay.max-retries=3
ops-relay.retry-backoff-multiplier=2
ops-relay.initial-retry-delay=1000

# Flyway Configuration
spring.flyway.url=jdbc:postgresql://localhost:5432/benefits
spring.flyway.user=benefits
spring.flyway.password=benefits_password
spring.flyway.locations=classpath:db/migration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# Actuator endpoints
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# Logging
logging.level.com.benefits.opsrelay=DEBUG
logging.level.org.springframework.web=DEBUG

server.port=8095
